<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <!-- æ‰‹æ©Ÿç«¯å„ªåŒ–ï¼šé–å®šç¸®æ”¾ï¼Œç¢ºä¿ App èˆ¬çš„é«”é©— -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>é€çµ¦å°¾ç†Šå¯¶å¯¶çš„è–èª•é©šå–œ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* ç§»é™¤æ‰‹æ©Ÿé»æ“Šæ™‚çš„è—è‰²é«˜äº® */
        * {
            -webkit-tap-highlight-color: transparent;
        }
        
        @keyframes liquid {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.95); }
        }
        @keyframes float {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.3; }
            90% { opacity: 0.3; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        .animate-liquid { animation: liquid 15s infinite ease-in-out; }
        .animate-float { animation: float linear infinite; }
        .clip-envelope {
            clip-path: polygon(0 0, 50% 48%, 100% 0, 100% 100%, 0 100%);
        }
        body {
            margin: 0;
            font-family: "PingFang TC", "Microsoft JhengHei", ui-sans-serif, system-ui;
            background-color: #041e10;
            overscroll-behavior: none; /* é˜²æ­¢æ‰‹æ©Ÿä¸‹æ‹‰é‡æ–°æ•´ç† */
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo } = React;

        // --- å…§å»ºåœ–ç¤º (è§£æ±ºè¼‰å…¥å•é¡Œ) ---
        const Heart = ({ className, size = 24, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>
                <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" />
            </svg>
        );
        const Star = ({ className, size = 24, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
            </svg>
        );
        const Mail = ({ className, size = 24, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>
                <rect width="20" height="16" x="2" y="4" rx="2" />
                <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7" />
            </svg>
        );
        const Snowflake = ({ className, size = 24, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>
                <line x1="2" x2="22" y1="12" y2="12" />
                <line x1="12" x2="12" y1="2" y2="22" />
                <path d="m20 16-4-4 4-4" />
                <path d="m4 8 4 4-4 4" />
                <path d="m16 4-4 4-4-4" />
                <path d="m8 20 4-4 4 4" />
            </svg>
        );
        const TreePine = ({ className, size = 24, ...props }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} {...props}>
                <path d="m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.9-1.5l2.9-4H8.6a1 1 0 0 1-.8-1.5l3.5-5a1 1 0 0 1 1.6 0l3.5 5a1 1 0 0 1-.8 1.5H15l2.9 4H17.3a1 1 0 0 1-.3 0Z" />
                <path d="M12 22v-3" />
            </svg>
        );

        const App = () => {
            const [isOpen, setIsOpen] = useState(false);
            const days = 42;

            const snowflakes = useMemo(() => {
                return [...Array(20)].map((_, i) => ({
                    id: i,
                    left: `${Math.random() * 100}%`,
                    top: `${Math.random() * 100}%`,
                    size: Math.random() * 15 + 10,
                    duration: Math.random() * 10 + 10,
                    delay: Math.random() * 5,
                }));
            }, []);

            return (
                // min-h-[100dvh] ç¢ºä¿åœ¨æ‰‹æ©Ÿç€è¦½å™¨ä¸Šèƒ½æ’æ»¿ç•«é¢
                <div className="relative min-h-[100dvh] w-full flex items-center justify-center p-4 overflow-hidden select-none touch-none">
                    
                    {/* èƒŒæ™¯æµé«” */}
                    <div className="absolute inset-0 z-0">
                        <div className="absolute top-[-20%] left-[-10%] w-[70%] h-[70%] bg-red-600/20 rounded-full blur-[120px] animate-liquid"></div>
                        <div className="absolute bottom-[-20%] right-[-10%] w-[70%] h-[70%] bg-green-500/15 rounded-full blur-[120px] animate-liquid" style={{animationDelay: '2s'}}></div>
                    </div>

                    {/* ä¸‹é›ªå‹•ç•« */}
                    <div className="absolute inset-0 pointer-events-none">
                        {snowflakes.map((snow) => (
                            <div
                                key={snow.id}
                                className="absolute text-white/20 animate-float"
                                style={{
                                    left: snow.left,
                                    top: snow.top,
                                    animationDuration: `${snow.duration}s`,
                                    animationDelay: `-${snow.delay}s`,
                                }}
                            >
                                <Snowflake size={snow.size} />
                            </div>
                        ))}
                    </div>

                    {/* å¡ç‰‡æœ¬é«” (éŸ¿æ‡‰å¼å¯¬åº¦èª¿æ•´) */}
                    <div className="relative z-10 w-full max-w-[340px] md:max-w-sm transition-all">
                        <div 
                            onClick={() => setIsOpen(!isOpen)}
                            className={`relative transition-all duration-700 transform cursor-pointer active:scale-95 ${
                                isOpen ? 'scale-105' : 'hover:scale-[1.03]'
                            }`}
                            style={{ transitionTimingFunction: 'cubic-bezier(0.2, 1, 0.3, 1)' }}
                        >
                            {/* ç»ç’ƒèƒŒæ™¯å±¤ */}
                            <div className="absolute inset-0 bg-white/[0.03] backdrop-blur-3xl border border-white/20 rounded-[40px] shadow-[0_20px_60px_rgba(0,0,0,0.5)]"></div>

                            {/* å¡ç‰‡å…§å®¹å®¹å™¨ */}
                            <div className="relative p-6 h-[500px] flex flex-col items-center justify-between overflow-hidden rounded-[40px]">
                                
                                {/* é ‚éƒ¨è£é£¾ */}
                                <div className={`transition-all duration-1000 ${isOpen ? 'opacity-20 scale-50 -translate-y-10' : 'opacity-100'}`}
                                     style={{ transitionTimingFunction: 'cubic-bezier(0.34, 1.56, 0.64, 1)' }}>
                                    <div className="p-4 bg-white/5 backdrop-blur-xl rounded-3xl border border-white/10 shadow-lg">
                                        <TreePine size={40} className="text-green-400" style={{ filter: 'drop-shadow(0 0 8px rgba(74,222,128,0.5))' }} />
                                    </div>
                                </div>

                                {/* ä¿¡å°ä¸»é«” */}
                                <div className="relative w-full flex flex-col items-center">
                                    {/* ä¿¡å°åº•åº§ */}
                                    <div className="absolute bottom-0 w-60 h-36 bg-white/[0.08] backdrop-blur-2xl rounded-2xl border border-white/10 shadow-2xl z-10"></div>

                                    {/* ä¿¡ç´™å…§å®¹ - æ”¯æ´ç¹é«”ä¸­æ–‡é¡¯ç¤º */}
                                    <div 
                                        className={`absolute z-20 w-[240px] bg-white/95 backdrop-blur-xl rounded-[20px] p-6 shadow-[0_25px_60px_rgba(0,0,0,0.25)] transition-all duration-[900ms] transform ${
                                            isOpen ? '-translate-y-56 opacity-100 scale-105 rotate-0' : 'translate-y-10 opacity-0 scale-90 rotate-3 pointer-events-none'
                                        }`}
                                        style={{ transitionTimingFunction: 'cubic-bezier(0.17, 0.89, 0.32, 1.15)' }}
                                    >
                                        <div className="flex justify-between items-center mb-4">
                                            <div className="w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center">
                                                <Star size={16} className="text-yellow-600 fill-yellow-500" />
                                            </div>
                                            <Heart size={20} className="text-red-500 fill-red-500 animate-pulse" />
                                        </div>
                                        <div className="space-y-3 text-gray-800">
                                            <h2 className="text-xl font-black text-green-900 tracking-tight">å°¾ç†Šå¯¶å¯¶ï½</h2>
                                            <p className="text-base leading-relaxed font-medium">ç¥ä½ è–èª•å¿«æ¨‚ï¼<br />çœŸçš„å¾ˆæ„›ä½ ğŸ’—</p>
                                            <div className="pt-2 flex justify-end">
                                                <span className="bg-red-500 text-white text-[10px] px-2 py-1 rounded-full font-bold">åœ¨ä¸€èµ·ç¬¬ {days} å¤© ğŸ˜›</span>
                                            </div>
                                        </div>
                                    </div>

                                    {/* ä¿¡å°è“‹å­ */}
                                    <div className={`absolute bottom-0 w-60 h-36 z-30 pointer-events-none transition-all duration-700 ${isOpen ? 'opacity-0 -translate-y-2' : 'opacity-100'}`}>
                                        <div className="absolute inset-0 bg-white/[0.05] backdrop-blur-md rounded-2xl border-t border-white/20 clip-envelope"></div>
                                        {!isOpen && (
                                            <div className="absolute inset-0 flex flex-col items-center justify-center text-white/80">
                                                <Mail size={32} className="mb-2 animate-bounce" />
                                                <span className="text-[10px] font-bold tracking-[0.3em] uppercase">é»æ“Šé–‹å•Ÿ</span>
                                            </div>
                                        )}
                                    </div>
                                </div>

                                {/* åº•éƒ¨è£é£¾ */}
                                <div className={`w-full flex justify-between items-center px-2 transition-all duration-1000 ${isOpen ? 'opacity-10 translate-y-4' : 'opacity-50'}`}>
                                    <TreePine size={18} className="text-green-500" />
                                    <div className="flex gap-3">
                                        <div className="w-1.5 h-1.5 rounded-full bg-red-500 shadow-[0_0_8px_red]"></div>
                                        <div className="w-1.5 h-1.5 rounded-full bg-green-500 shadow-[0_0_8px_green]"></div>
                                        <div className="w-1.5 h-1.5 rounded-full bg-yellow-500 shadow-[0_0_8px_yellow]"></div>
                                    </div>
                                    <TreePine size={18} className="text-green-500" />
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>